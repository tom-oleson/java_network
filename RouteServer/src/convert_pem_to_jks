
# look at certificate
openssl x509 -in emv.sibisystems.pem -noout -text
openssl x509 -in dev.emv.sibisystems.pem -noout -text


#convert pem to keystore
openssl x509 -outform der -in emv.sibisystems.pem -out emv.sibisystems.der 
keytool -import -trustcacerts -noprompt -alias emv_sibi_pem -keystore keystore.jks -storepass changeit$ -file emv.sibisystems.der

-- OR -- 

$ rm keysotore.jks
$ openssl x509 -outform der -in dev.emv.sibisystems.pem -out dev.emv.sibisystems.der 
$ keytool -import -trustcacerts -noprompt -alias dev_emv_sibi_pem -keystore keystore.jks -storepass changeit$ -file dev.emv.sibisystems.der
$ rm *.der
$ keytool -list -v -keystore keystore.jks -storepass changeit$



# check the contents of the keystore
keytool -list -v -keystore keystore.jks -storepass changeit$


openssl s_client -cipher 'TLS-ECDHE-ECDSA-WITH-AES-256-GCM-SHA384' -connect localhost:9000 -servername emv.sibisystems.com


# create a self-signed key and certificate
openssl req -x509 -nodes -days 365 -newkey rsa:1024 -keyout testcert.pem -out testcert.pem

# convert pem to keystore
openssl x509 -outform der -in testcert.pem -out testcert.der 
keytool -import -trustcacerts -noprompt -alias test_pem -keystore testkeystore.jks -storepass changeit$ -file testcert.der

keytool -list -v -keystore testkeystore.jks -storepass changeit$

#connection tests
openssl s_client -cipher 'TLS-ECDHE-ECDSA-WITH-AES-256-GCM-SHA384' -connect localhost:9000 -servername emv.sibisystems.com

openssl s_client -state -nbio -connect localhost:9000 -servername emv.sibisystems.com

openssl s_client -state -nbio -connect localhost:9000 -servername emv.sibisystems.com -CAfile emv.sibisystems.pem


-cipher ECDH+aRSA+HIGH
======================
openssl s_client -cipher ECDH+aRSA+HIGH -state -nbio -tls1 -connect localhost:9000 -servername emv.sibisystems.com -CAfile dev.emv.sibisystems.pem


-cipher TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384
=============================================
openssl s_client -cipher 'TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384' -state -nbio -connect localhost:9000 -servername emv.sibisystems.com -CAfile dev.emv.sibisystems.pem



openssl s_client -cipher ECDH+aRSA+GCM+HIGH -state -nbio -tls1 -connect localhost:9000 -servername emv.sibisystems.com -CAfile dev.emv.sibisystems.pem


========================================================================
java -Djavax.net.debug=ssl:handshake:verbose:keymanager:trustmanager -Djava.security.debug=access:stack SSLRouteServer



====================================================
https://www.java.com/en/jre-jdk-cryptoroadmap.html
